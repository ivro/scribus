<?xml version='1.0' encoding="utf8"?>
<!DOCTYPE book PUBLIC '-//OASIS//DTD Docbook XML V4.2//EN'
    'http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd'>

<book lang="cs">

<bookinfo>
 <copyright>
      <year>2004</year>
      <holder>Petr Vaněk</holder>
 </copyright>

    <legalnotice>
      <para>
Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.2 or any later version published by the Free Software Foundation;   with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy of the license is included in the section entitled "GNU Free Documentation License".
</para>
    </legalnotice>

	<title>Scribus &ndash; Zkratky a předložky</title>
	<subtitle>Short Words for Scribus</subtitle>

</bookinfo>

<chapter>
<title>K čemu to je&hellip;</title>
 <para>
<application>Zkratky a předložky</application> je modul DTP programu <application>Scribus</application>, který vkládá speciální mezery za předložky a specifikované zkratky a.j.</para>
<para>Každá typografie požaduje specifické formátování různých slov, resp. jejich povolenou pozici na konci řádku, popřípadě mezislovní mezeru. Pravidla České typografie hovoří jasnou řečí: Jednohláskové neslabičné předložky <emphasis>K, k, S, s, V, v, Z, z,</emphasis> slabičné <emphasis>O, o, U, u, a</emphasis> spojky <emphasis>I, i, A,</emphasis> nesmějí být na konci řádky (více viz. např. <ulink url="http://www.typo.cz">typo.cz</ulink>). Existuje také celá řada fyzikálních jednotek titulů nebo vojenských a akademických hodností, které mají být také ošetřeny.</para>
<para><application>Scribus</application> umožňuje vkládat nezlomitelnou mezeru pouze manuálně, což velice zdržuje a ve velkých objemech textů nevyhnutelně vede k těžko dohledatelným chybám. Podle pro systém <application>T<subscript>e</subscript>X</application> určeného programu <application>vlna</application>, páně Olšáka, jsem napsal modul, kterýautomatizuje zdlouhavou a nezáživnou robotu.</para>
</chapter>

 <chapter>
    <title>Jak to pracuje&hellip;</title>
     <para>Obrázek textového rámce dokumentu obsahuje neošetřený text. Chybný zlom textu je zvýrazněný červenou barvou.</para>

    <figure float="0">
      <title>Ukázka textu před aplikací</title>
      <mediaobject>
	<imageobject>
	  <imagedata fileref="before_short_words.png" format="PNG"/>
	</imageobject>
      </mediaobject>
    </figure>


     <para>Stejný text po spuštění <application>Zkratek a předložek</application>. Text je lámán před předložkou &ndash; pomocí tzv. nezlomitelné mezery.</para>

    <figure float="0">
      <title>Ukázka textu po aplikaci</title>
      <mediaobject>
	<imageobject>
	  <imagedata fileref="after_short_words.png" format="PNG"/>
	</imageobject>
      </mediaobject>
    </figure>
</chapter>

 <chapter>
    <title>Jak to spustím&hellip;</title>

    <para>Jestliže máte modul úspěšně nainstalován, spustíte jej z menu <guimenu>Extra</guimenu> položkou <guimenu>Předložky a zkratky (nezlomitelná mezera)...</guimenu>. Následné okno aplikace vám nabídne:</para>

 <figure float="0">
      <title>Spuštění Zkratek a předložek</title>
      <mediaobject>
	<imageobject>

    <imagedata fileref="menu.png"/>
	</imageobject>
      </mediaobject>
    </figure>

 <figure float="0">
      <title>Dialogové okno aplikace</title>
      <mediaobject>
	<imageobject>
 <imagedata fileref="dialog.png"/>

	</imageobject>
      </mediaobject>
    </figure>
 <variablelist>
      <varlistentry>
	<term>Vybrané rámce</term>
	<listitem>
	  <para>Zpracuje text pouze ve vybraných textových rámcích.</para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>Aktuální stránka</term>
	<listitem>
	  <para>Zpracuje text všech textových rámů strany, na které uživatel právě pracuje.</para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>Celý dokument</term>
	<listitem>
	  <para>Zpracuje text všech textových rámů dokumentu.</para>
	</listitem>
      </varlistentry>

	  <varlistentry>
	<term>Nahradit původní nastavení uživatelským</term>
	<listitem>
	  <para>Jestliže máte vytvořený vlastní soubor s konfigurací modulu, můžete zvolit, zda vaše nastavení přepíše standardní nastavení nebo se k němu připojí. Nastavení provedete v:  <filename>~/.scribus/scribus-short-words.rc</filename>.</para>
	</listitem>
      </varlistentry>
    </variablelist>
</chapter>


<chapter>
<title>Instalace</title>

 <para>Nejjednodušší instalace modulu e pochopitelně pomocí balíčkovacího systému vaší distribuce. Prohlédněte si <ulink url="http://www.scribus.net">web aplikace Scribus</ulink>, zda tam nejsou připravené balíky právě pro vás (např. Fedora, SuSE, Gentoo, Mandrake, or PLD.</para>

<para>Jestliže nenajdete odpovídající balíček (nebo z jakéhokoli jiného důvodu), zkuste si modul přeložit ze zdrojových kódů &ndash; a to klasicky:</para>

<programlisting>#./configure
# make
# make install
...
</programlisting>

<para>V některých případech je potřeba zadat jinou cestu k souborům Scribusu. To provedete při  <filename>./configure --prefix=/path/to/scribus/previously/installed</filename>. Implicitní prefix je <filename>/usr/local</filename>, kam bývají obvykle instalovány dodatečné aplikace. Na svém Gentoo používám <filename>./configure --prefix=/usr</filename>, abych splnil podmínky Scribus ebuildu.</para>

<para>Jestliže se během překladu objeví nějaká chyba, prostudujte nejdříve, jaké je třeba nainstalovat <ulink
url="http://ahnews.music.salford.ac.uk/scribus/documentation/index-2.html#ss2.2">knihovny</ulink>. Poté se třeba zeptejte v emailové konferenci.</para>

</chapter>

<chapter>
<title>Konfigurace</title>

 <para>Modul <application>Zkratky a předložky</application> používá globální konfigurační soubor <filename>scribus-short-words.rc</filename>, který obvykle bývá v adresáři  <filename>/usr/local/lib/scribus/plugins</filename>. Skutečné umístění závisí na tom, kam je ve vaší distribuci instalován <application>Scribus</application>. Konfigurační soubor nepotřebuje složitý popis. Ve zkratce &ndash; soubor obsahuje seznam(y) zkratek, předložek a dalších slov, uvozených nebo následovaných mezerou oddělených čárkou. Pozice mezery ukazuje, kam bude vložena nedělitelná mezera. Každý seznam musí začínat kódem jazyka, kterému je určen a končit čárkou. Např. Česká a Anglická konfigurace:</para>

<programlisting>
#  English stuff START here
en=Dr. ,Dr ,Mr. ,Mr ,Mrs. ,Mrs ,Ms. ,Ms ,Prof. ,Prof ,Rev. ,Rev ,
en= Kg, kg, g, mg, oz, lb, cwt, km, Km, m, cm, mm,

#  Czech short words START here
## hanging conjunctions
cs=K ,k ,S ,s ,V ,v ,Z ,z ,O ,o ,U ,u ,I ,i ,A ,
## physics and math
cs= kg, g, m, cm, mm, l, hl, s, %,

</programlisting>

<para>Jestliže chcete používat vlastní nastavení, např. nový jazyk, vytvořte si ve vašem skrytém adresáři programu <application>Scribus</application> soubor <filename>scribus-short-words.rc</filename>, tedy celou cestou <filename>~/.scribus/scribus-short-words.rc</filename> a v okně modulu poté zvolte, zda chcete nové nastavení připojit nebo jím staré přepsat.</para>
<important>Uvítám každou relevantní připomínku k nastavení nebo funkci programu.</important>

</chapter>
 <chapter>
    <title>Short Words for Scribus Copyright</title>

    <para>Short Words for Scribus Copyright 2003, 2004 Petr Vaněk,
<email>petr@yarpen.cz</email></para>

    <para>This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2 of the
License, or (at your option) any later version.</para>

    <para>This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
General Public License for more details.</para>

    <para>You should have received a copy of the GNU General Public
License along with this program; if not, write to the Free Software
Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</para>
  </chapter>


</book>
